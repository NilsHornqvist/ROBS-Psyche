<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ROBS-Psyche</title>
  <style>
    body {
      font-family: Times New Roman, sans-serif;
      background: #000000;
      margin: 0;
      padding: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
    }
    .container {
      background: #fff;
      padding: 3rem;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.1);
      max-width: 800px;
      text-align: center;
    }
    button {
      background: #007acc;
      color: #fff;
      border: none;
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      cursor: pointer;
      margin-top: 1rem;
    }
    button:hover {
      background: #005b99;
    }
    .hidden {
      display: none;
    }
    .option {
      display: block;
      margin: 0.5rem 0;
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      cursor: pointer;
    }
    .option:hover {
      background: #f0f0f0;
    }
  </style>
</head>
<body>

<div class="container" id="welcome">
  <h1>ROBS-Psyche Assessment</h1>
  <p>This tool is designed as an add-on risk of bias assessment for randomized controlled trials in psychedelic-assisted therapy.</p>
  <p>Please note: it is intended for research purposes only.</p>
  <p>Also note: this is only intended for Randomized Control Trials using Psychedelic-Assisted Therapy.</p>
  <button onclick="startAssessment()">Start</button>
</div>

<div class="container hidden" id="question1">
  <h1 id="domain">Domain: Blinding</h1>
  <h2>Were more rigorous attempts made to blind participants in the control group?</h2>
  <p>Select the option that best matches the study you are assessing.</p>
  <div class="option" onclick="answerQuestion(2)">Inactive placebo, no active ingredient used</div>
  <div class="option" onclick="answerQuestion(1)">Low dose of the same psychedelic used</div>
  <div class="option" onclick="answerQuestion(0)">Another psychoactive compound (not a psychedelic) used</div>
</div>

<div class="container hidden" id="question2">
  <h1 id="domain">Domain: Blinding</h1>
  <h2>Does the study investigate blinding success?</h2>
  <p>Select the option that best matches the study you are assessing.</p>
  <div class="option" onclick="answerQuestion(2)">No, no form of blinding success was assessed</div>
  <div class="option" onclick="answerQuestion(2)">Blinding was assessed but was less than 10%</div>
  <div class="option" onclick="answerQuestion(1)">Blinding success was assessed, but it was less than 50%</div>
  <div class="option" onclick="answerQuestion(0)">Blinding success was assessed, and it was 50% or more</div>
</div>

<div class="container hidden" id="question3">
  <h1 id="domain">Domain: Therapist Fidelity</h1>
  <h2>Was therapist fidelity checked?</h2>
  <p>Therapist fidelity is a measure of how closely each therapy session adhered to its predetermined protocol.</p>
  <p>Select the option that best matches the study you are assessing.</p>
  <div class="option" onclick="answerQuestion(2)">Therapist’s fidelity was not assessed</div>
  <div class="option" onclick="answerQuestion(1)">Therapist’s fidelity was used but not directly reported</div>
  <div class="option" onclick="answerQuestion(1)">Therapist’s fidelity was used but assessed by independent assessors</div>
  <div class="option" onclick="answerQuestion(0)">Therapist's fidelity to the intended protocol was used, directly reported, and examined by independent assessors.</div>
</div>

<div class="container hidden" id="question4">
  <h1 id="domain">Domain: Outcome</h1>
  <h2>Was the scale used to assess the primary outcome appropriate?</h2>
  <p>The scales used should be scientifically rigorous.</p>
  <p>Select the option that best matches the study you are assessing.</p>
  <div class="option" onclick="answerQuestion(2)">The scale shows low sensitivity, is not consistent, is not fully validated, or is not comprehensive</div>
  <div class="option" onclick="answerQuestion(1)">The scale is validated but relies on self-reporting and is moderately sensitive</div>
  <div class="option" onclick="answerQuestion(2)">No scales were used to measure absolute scores of the disorder</div>
  <div class="option" onclick="answerQuestion(0)">The scale is comprehensive, validated, shows high sensitivity, and is clinician-administered</div>
  <div class="option" onclick="answerQuestion(0)">The scale is comprehensive, validated, shows high sensitivity, but is <strong>not</strong> clinician-administered</div>
</div>

<div class="container hidden" id="question5">
  <h1 id="domain">Domain: Set and Setting</h1>
  <h2>Were the session-specific settings described and standardized?</h2>
  <p>Session-specific items include music, eyeshades, how the room was organized, etc.</p>
  <p>Select the option that best matches the study you are assessing.</p>
  <div class="option" onclick="answerQuestion(2)">Information about the set and settings is unavailable and was not standardized</div>
  <div class="option" onclick="answerQuestion(1)">Session-specific settings are reported but not standardized</div>
  <div class="option" onclick="answerQuestion(1)">Session-specific settings are standardized but not reported</div>
  <div class="option" onclick="answerQuestion(0)">Set and setting specifics were standardized</div>
</div>

<div class="container hidden" id="question6">
  <h1 id="domain">Domain: Preparation and integration</h1>
  <h2>Were proper preparation and integration sessions administered throughout the study?</h2>
  <p>Select the option that best matches the study you are assessing.</p>
  <div class="option" onclick="answerQuestion(2)">No preparatory or integrative sessions were administered, or these sessions were not mandatory</div>
  <div class="option" onclick="answerQuestion(1)">1 or 2 preparatory sessions were administered before the first dosing, and one or two integrative sessions per experimental session were administered</div>
  <div class="option" onclick="answerQuestion(0)">≥3 preparatory / ≥3 integrative sessions per experimental session were administered</div>
</div>

<div class="container hidden" id="question7">
  <h1 id="domain">Domain: Preparation and integration</h1>
  <h2>Were the preparatory and integrative processes structured, standardized, and equal across groups?</h2>
  <p>Select the option that best matches the study you are assessing.</p>
  <div class="option" onclick="answerQuestion(2)">Neither of the sessions was standardized or structured</div>
  <div class="option" onclick="answerQuestion(2)">Preparatory sessions were standardized, but the integrative sessions differed between the dosing groups</div>
  <div class="option" onclick="answerQuestion(1)">Preparatory sessions were not standardized or structured, but integrative sessions were structured and standardized</div>
  <div class="option" onclick="answerQuestion(0)">Both were structured and standardized and did not differ between dosing groups</div>
</div>
  
<div class="container hidden" id="results">
  <h2>Your ROBS-Psyche assessment is completed</h2>
  <p id="scoreText"></p>
  <p id="finalAssessment"></p>
  <p>Interpretation:</p>
  <ul style="text-align:left">
    <li>0–4 = <b>Low risk of bias</b></li>
    <li>5–9 = <b>Some concern for bias</b></li>
    <li>10–14 = <b>High risk of bias</b></li>
  </ul>
</div>

<script>
let totalScore = 0;
let currentQuestion = 1;
const totalQuestions = 7;

function startAssessment() {
  const welcomeDiv = document.getElementById("welcome");
  if(welcomeDiv) welcomeDiv.classList.add("hidden");
  const firstQuestion = document.getElementById("question1");
  if(firstQuestion) firstQuestion.classList.remove("hidden");
}

function answerQuestion(score) {
  totalScore += score;

  const currentQDiv = document.getElementById("question" + currentQuestion);
  if(currentQDiv) currentQDiv.classList.add("hidden");

  currentQuestion++;

  if(currentQuestion <= totalQuestions) {
    const nextQDiv = document.getElementById("question" + currentQuestion);
    if(nextQDiv) nextQDiv.classList.remove("hidden");
  } else {
    const resultsDiv = document.getElementById("results");
    if(resultsDiv) resultsDiv.classList.remove("hidden");

    const scoreText = document.getElementById("scoreText");
    if(scoreText) scoreText.innerText = "Your total score: " + totalScore;

    let assessmentText = "";
    if(totalScore <= 4){
      assessmentText = "Your study has a <b>low risk of bias</b>.";
    } else if(totalScore <= 9){
      assessmentText = "Your study has a <b>some concern for bias</b>.";
    } else {
      assessmentText = "Your study has a <b>high risk of bias</b>.";
    }

    const finalAssessment = document.getElementById("finalAssessment");
    if(finalAssessment) finalAssessment.innerHTML = assessmentText;
  }
}
</script>
</body>
</html>
